/* src/styles.css */

/* Theme (tune these 6 to match your site precisely) */
:root{
  --bg:#0d1620;            /* page bg */
  --panel:#15212d;         /* card bg */
  --panel-2:#1b2a38;       /* inset bg */
  --text:#e6eefb;          /* main text */
  --muted:#9fb0c6;         /* secondary text */
  --border:#243645;        /* borders */
  --accent:#3aa0ff;        /* primary blue */
  --danger:#e65a5a;
  --warn:#f5a623;
}

/* App layout */
html,body,#root{height:100%;margin:0;background:var(--bg);color:var(--text);
  font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
.app{
  height:100vh;display:grid;gap:12px;padding:12px;box-sizing:border-box;
  grid-template-rows:64px 1fr;grid-template-columns:minmax(280px,340px) 1fr minmax(280px,340px);
}
.header{
  grid-column:1 / -1;display:flex;align-items:center;gap:12px;height:64px;
  background:linear-gradient(180deg,rgba(26,40,54,.95),rgba(18,28,38,.95));
  border:1px solid var(--border);border-radius:12px;box-shadow:0 6px 22px rgba(0,0,0,.35);padding:8px 12px;
}
.header h1{margin:0;font-size:18px;font-weight:700}
.small{color:var(--muted);font-size:12px}
.spacer{flex:1}

.left,.main,.right{min-height:0}
.left,.right{
  background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;box-sizing:border-box;
  overflow-y:auto;-webkit-overflow-scrolling:touch;box-shadow:0 6px 22px rgba(0,0,0,.25) inset;
}
.main{
  background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;box-sizing:border-box;
  overflow:hidden;box-shadow:0 6px 22px rgba(0,0,0,.25) inset;
}

/* Sections and rows */
.section-title{font-weight:700;font-size:13px;margin:4px 0 8px;color:#dfe7ff}
.sep{border:none;border-top:1px solid var(--border);margin:12px 0}
.row{display:flex;align-items:center;gap:8px;flex-wrap:nowrap}
.row.wrap{flex-wrap:wrap}

/* Stable form grid to prevent slider/text jumps */
.form-grid{display:grid;grid-template-columns: 1fr 68px minmax(140px,1fr);gap:8px 10px;align-items:center}
.form-grid .label{color:var(--text);opacity:.9}
.form-grid .value{font-variant-numeric: tabular-nums; font-feature-settings: 'tnum' 1; text-align:right; min-width:68px}

/* Controls */
button{appearance:none;border:1px solid var(--border);background:var(--panel-2);color:var(--text);
  padding:6px 10px;border-radius:10px;cursor:pointer;font-size:12px}
button.primary{border-color:var(--accent);background:linear-gradient(180deg,#173659,#0f2740)}
button.danger{border-color:var(--danger);background:#3b1e24}
button.warn{border-color:var(--warn);background:#3b2f17}
button:disabled{opacity:.6;cursor:not-allowed}
select,input[type="text"]{background:var(--panel-2);border:1px solid var(--border);color:var(--text);
  border-radius:10px;padding:6px 8px;font-size:12px}

/* Range inputs: fixed height to avoid vertical shifting */
input[type="range"]{width:100%;height:22px}
input[type="checkbox"]{transform:translateY(1px)}

/* Preview area */
.video-wrap{position:relative;background:#0a0f14;border:1px solid var(--border);border-radius:10px;min-height:260px;height:calc(100% - 32px);overflow:hidden}
.video-wrap video{width:100%;height:100%;object-fit:contain;display:block;background:black}
.overlay-canvas{position:absolute;inset:0;pointer-events:none}

/* ROI overlay (interactive) */
.overlay-layer{position:absolute;inset:0;z-index:60;pointer-events:none}
.roi-rect{position:absolute;border:2px dashed var(--warn);background:rgba(245,166,35,.08);
  box-shadow:inset 0 0 0 1px rgba(245,166,35,.3);border-radius:8px;cursor:move;pointer-events:auto}
.roi-handle{position:absolute;width:12px;height:12px;background:var(--accent);border:2px solid #0b1312;border-radius:50%;
  box-shadow:0 0 0 1px rgba(0,0,0,.25)}
.roi-handle[data-corner="nw"]{top:0;left:0;transform:translate(-50%,-50%);cursor:nwse-resize}
.roi-handle[data-corner="ne"]{top:0;right:0;transform:translate(50%,-50%);cursor:nesw-resize}
.roi-handle[data-corner="se"]{bottom:0;right:0;transform:translate(50%,50%);cursor:nwse-resize}
.roi-handle[data-corner="sw"]{bottom:0;left:0;transform:translate(-50%,50%);cursor:nesw-resize}
.roi-handle[data-corner="n"]{top:0;left:50%;transform:translate(-50%,-50%);cursor:ns-resize}
.roi-handle[data-corner="s"]{bottom:0;left:50%;transform:translate(-50%,50%);cursor:ns-resize}
.roi-handle[data-corner="e"]{right:0;top:50%;transform:translate(50%,-50%);cursor:ew-resize}
.roi-handle[data-corner="w"]{left:0;top:50%;transform:translate(-50%,-50%);cursor:ew-resize}

/* Pattern */
.pattern-grid{display:grid;gap:6px;margin:8px 0 6px}
.pattern-cell{width:28px;height:28px;display:flex;align-items:center;justify-content:center;
  background:var(--panel-2);border:1px solid var(--border);border-radius:8px;color:#b8c6ff;font-size:12px}
.pattern-cell.hit{background:rgba(58,160,255,.15);border-color:var(--accent);color:#eaf4ff}

/* Scrollbars (WebKit) */
.left::-webkit-scrollbar,.right::-webkit-scrollbar{width:10px}
.left::-webkit-scrollbar-thumb,.right::-webkit-scrollbar-thumb{background:#243645;border-radius:8px}
.left::-webkit-scrollbar-thumb:hover,.right::-webkit-scrollbar-thumb:hover{background:#31485a}

/* Responsive single-column */
@media (max-width:1100px){
  .app{grid-template-columns:1fr;grid-template-rows:64px auto auto auto}
  .left,.main,.right{max-height:none}
}